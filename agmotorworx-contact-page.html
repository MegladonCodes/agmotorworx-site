<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="/img/ag.ico">
    <title>AG Motorworx - Performance Automotive Services</title>
    <link rel="stylesheet" href="./css/contact.css">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-content">
            <div class="logo">
                <img src="/img/ag-logo.png" alt="AG Motorworx Logo">
            </div>
            <nav>
                <div class="burger-menu" id="burger-menu">
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
                <ul class="nav-links" id="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="agmotorworx-about-page.html">About Us</a></li>
                    <li><a href="agmotorworx-services-page.html">Services</a></li>
                    <li><a href="agmotorworx-contact-page.html">Contact</a></li>
                    <li><a href="agmotorworx-shop-page.html">Shop</a></li>
                </ul>
                <ul class="nav-links mobile" id="nav-links-mobile">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="agmotorworx-about-page.html">About Us</a></li>
                    <li><a href="agmotorworx-services-page.html">Services</a></li>
                    <li><a href="agmotorworx-contact-page.html">Contact</a></li>
                    <li><a href="agmotorworx-shop-page.html">Shop</a></li>
                </ul>
            </nav>
        </div>
    </header>
    
    <!-- Contact Section -->
    <section class="contact-form-section">
        <div class="contact-form-section-container">
            <div class="contact-form">
                <h2>Contact Us</h2>
                <form id="contact-form">
                    <div class="form-group">
                      <label for="name">Name</label>
                      <input type="text" id="name" name="name" required>
                    </div>
                  
                    <div class="form-group">
                      <label for="email">Email</label>
                      <input type="email" id="email" name="email" required>
                    </div>
                  
                    <div class="form-group">
                      <label for="message">Message</label>
                      <textarea id="message" name="message" rows="5" required></textarea>
                    </div>
                  
                    <!-- Honeypot field - hidden from users but bots will fill it -->
                    <input type="text" name="website" style="display:none">
                  
                    <button type="submit">Send Message</button>
                    <p id="form-status" aria-live="polite"></p>
                  </form>
            </div>
            <div class="contact-info-form">
                <h2>Contact Information</h2>
                <p><strong>Phone:</strong><br/>Tel: +27 81 847 9871</p>
                <p><strong>Email:</strong><br/> nazeerg@agmotorworx.co.za</p>
                <p><strong>Opening Hours:</strong><br/> Mon - Fri 9am - 5pm</p>
            </div>
        </div>

        <script>
            const form = document.getElementById('contact-form');
            const formStatus = document.getElementById('form-status');
          
            form.addEventListener('submit', async (e) => {
              e.preventDefault();
              
              // Show loading state
              formStatus.textContent = 'Sending...';
              
              const formData = new FormData(form);
              const formValues = Object.fromEntries(formData.entries());
              
              try {
                const response = await fetch('/api/submit-form', {
                  method: 'POST',
                  headers: {
                    'Content-Type': 'application/json',
                  },
                  body: JSON.stringify(formValues),
                });
                
                const result = await response.json();
                
                if (response.ok) {
                  // Success
                  formStatus.textContent = 'Thank you! Your message has been sent.';
                  form.reset();
                  setTimeout(() => {
                    formStatus.textContent = '';
                  }, 5000);
                } else {
                  // API returned an error
                  throw new Error(result.error || 'Failed to send message');
                }
              } catch (error) {
                formStatus.textContent = error.message || 'Something went wrong. Please try again.';
              }
            });
          </script>

    </section>

    <!-- Contact Footer -->
    <section class="contact-footer">
        <div class="contact-info container">
            <div class="contact-section">
                <h3>CALL US</h3>
                <p>+27 81 847 9871</p>
            </div>
            <div class="contact-section">
                <h3>EMAIL US</h3>
                <p>contact@agmotorworx.co.za</p>
            </div>
            <div class="contact-section">
                <h3>OPENING HOURS</h3>
                <p>Mon - Fri 9am - 5pm</p>
            </div>
        </div>
    </section>
    
    <!-- Footer -->
    <footer>
        <div class="footer-content container">
            <div class="footer-section">
                <p>Since 2022</p>
            </div>
            <div class="footer-section">
                <h3>OUR SERVICES</h3>
                <ul>
                    <li>Vehicle ECU/TCU Tuning</li>
                    <li>Performance Part Imports</li>
                    <li>Dyno Testing</li>
                    <li>Performance Products</li>
                    <li>Engine Building</li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>VISIT US</h3>
                <p>Athlone Park, Amanzimtoti, Durban</p>
            </div>
        </div>
        
        <div class="copyright">
            <p>Â© 2024 AGMOTORWORX - BUILT IN DURBAN</p>
        </div>
    </footer>
    <script src="./js/contact.js"></script>
    <script src="./email.js"></script>
</body>
</html>
